{"is_source_file": true, "format": "Python", "description": "This file defines a WebSocket connection manager class for handling real-time notifications, including connection handling, message sending, and broadcasting functionalities.", "external_files": ["starlette.websockets", "fastapi"], "external_methods": ["WebSocket.accept", "WebSocket.send_json", "WebSocketDisconnect"], "published": ["ws_manager"], "classes": [{"name": "ConnectionManager", "description": "Manages WebSocket connections per user for real-time notifications, enabling connection, disconnection, messaging, and broadcast functionalities."}], "methods": [{"name": "None __init__(self)", "description": "Initializes the ConnectionManager with an empty set of active connections.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "None connect(self, user_id: int, websocket: WebSocket)", "description": "Accepts and registers a WebSocket connection for a specific user.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "None disconnect(self, user_id: int, websocket: WebSocket)", "description": "Removes a WebSocket connection for a user.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "None send_personal_message(self, user_id: int, message: dict)", "description": "Sends a message to all active WebSocket connections of a specific user.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "None broadcast(self, message: dict)", "description": "Sends a message to all connected users.", "scope": "ConnectionManager", "scopeKind": "class"}], "calls": ["websocket.accept()", "ws.send_json(message)", "self.disconnect(user_id, ws)"], "search-terms": ["WebSocket", "ConnectionManager", "notifications", "broadcast", "send_personal_message"], "state": 2, "file_id": 49, "knowledge_revision": 144, "git_revision": "52f8688ab298b5d0bb6eba552855da4aaac268bc", "revision_history": [{"126": ""}, {"144": "52f8688ab298b5d0bb6eba552855da4aaac268bc"}], "ctags": [{"_type": "tag", "name": "ConnectionManager", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/services/notifications.py", "pattern": "/^class ConnectionManager:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/services/notifications.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "broadcast", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/services/notifications.py", "pattern": "/^    async def broadcast(self, message: dict) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, message: dict)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/services/notifications.py", "pattern": "/^    async def connect(self, user_id: int, websocket: WebSocket) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, user_id: int, websocket: WebSocket)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "disconnect", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/services/notifications.py", "pattern": "/^    def disconnect(self, user_id: int, websocket: WebSocket) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, user_id: int, websocket: WebSocket)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "send_personal_message", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/services/notifications.py", "pattern": "/^    async def send_personal_message(self, user_id: int, message: dict) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, user_id: int, message: dict)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "ws_manager", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/services/notifications.py", "pattern": "/^ws_manager = ConnectionManager()$/", "language": "Python", "kind": "variable"}], "hash": "ae5276b2de42ddc15c90b8eb54ae42c7", "format-version": 4, "code-base-name": "fitness_nutrition_backend", "filename": "fitness_nutrition_backend/src/services/notifications.py", "fields": [{"name": "ws_manager = ConnectionManager()", "scope": "", "scopeKind": "", "description": "unavailable"}]}