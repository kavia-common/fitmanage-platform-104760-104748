{"is_source_file": true, "format": "Python", "description": "This file defines a FastAPI router for managing workout plans. It includes endpoints for listing, creating, retrieving, updating, and deleting workout plans, with ownership and permission checks enforced via dependencies and functions. The endpoints interact with SQLAlchemy ORM models and schemas to process requests and responses.", "external_files": ["src.api.utils", "src.core.database", "src.core.security", "src.models", "src.schemas.workout"], "external_methods": ["pagination_params", "paginate", "assert_client_ownership_or_admin", "get_db", "get_current_user", "db.query", "db.get", "db.add", "db.commit", "db.refresh", "db.delete"], "published": ["list_workouts", "create_workout", "get_workout", "update_workout", "delete_workout"], "classes": [], "methods": [{"name": "list_workouts( db: Session = Depends(get_db), current: User = Depends(get_current_user), offset_limit: tuple[int, int] = Depends(pagination_params), )", "description": "Lists workout plans with optional ownership filtering based on user roles.", "scope": "", "scopeKind": ""}, {"name": "create_workout( payload: WorkoutPlanCreate, db: Session = Depends(get_db), current: User = Depends(get_current_user), )", "description": "Creates a new workout plan after verifying client ownership.", "scope": "", "scopeKind": ""}, {"name": "get_workout( plan_id: int, db: Session = Depends(get_db), current: User = Depends(get_current_user), )", "description": "Retrieves a specific workout plan by ID with ownership validation.", "scope": "", "scopeKind": ""}, {"name": "update_workout( plan_id: int, payload: WorkoutPlanCreate, db: Session = Depends(get_db), current: User = Depends(get_current_user), )", "description": "Updates an existing workout plan, including changing ownership if needed, with ownership checks.", "scope": "", "scopeKind": ""}, {"name": "delete_workout( plan_id: int, db: Session = Depends(get_db), current: User = Depends(get_current_user), )", "description": "Deletes a workout plan after ownership verification.", "scope": "", "scopeKind": ""}], "calls": ["Depends(get_db)", "Depends(get_current_user)", "paginate", "assert_client_ownership_or_admin", "db.query", "db.get", "db.add", "db.commit", "db.refresh", "db.delete"], "search-terms": ["WorkoutPlan", "router", "create_workout", "get_workout", "list_workouts", "update_workout", "delete_workout", "ownership", "pagination", "FastAPI", "SQLAlchemy", "security", "src.models", "src.schemas.workout"], "state": 2, "file_id": 11, "knowledge_revision": 112, "git_revision": "9b863804a128c3935e8babe79d0fee05f5a1e68a", "revision_history": [{"39": "c104eb7110ab4172547901562876f5735f48c908"}, {"95": "c104eb7110ab4172547901562876f5735f48c908"}, {"112": "9b863804a128c3935e8babe79d0fee05f5a1e68a"}], "ctags": [{"_type": "tag", "name": "create_workout", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/workouts/router.py", "pattern": "/^def create_workout($/", "language": "Python", "kind": "function", "signature": "( payload: WorkoutPlanCreate, db: Session = Depends(get_db), current: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "delete_workout", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/workouts/router.py", "pattern": "/^def delete_workout($/", "language": "Python", "kind": "function", "signature": "( plan_id: int, db: Session = Depends(get_db), current: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "get_workout", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/workouts/router.py", "pattern": "/^def get_workout($/", "language": "Python", "kind": "function", "signature": "( plan_id: int, db: Session = Depends(get_db), current: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "list_workouts", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/workouts/router.py", "pattern": "/^def list_workouts($/", "language": "Python", "kind": "function", "signature": "( db: Session = Depends(get_db), current: User = Depends(get_current_user), offset_limit: tuple[int, int] = Depends(pagination_params), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/workouts/router.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_workout", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/workouts/router.py", "pattern": "/^def update_workout($/", "language": "Python", "kind": "function", "signature": "( plan_id: int, payload: WorkoutPlanCreate, db: Session = Depends(get_db), current: User = Depends(get_current_user), )"}], "hash": "277370e3582615de2e976367de1085d6", "format-version": 4, "code-base-name": "fitness_nutrition_backend", "filename": "fitness_nutrition_backend/src/workouts/router.py", "fields": [{"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}]}