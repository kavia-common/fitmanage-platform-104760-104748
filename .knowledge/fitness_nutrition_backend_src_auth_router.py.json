{"is_source_file": true, "format": "Python", "description": "This file defines an API router for user authentication endpoints including login and registration, using FastAPI. It handles user credential verification, JWT token creation, and user registration with default roles, interacting with database models and security utilities.", "external_files": ["src.core.database", "src.core.security", "src.models", "src.schemas.user"], "external_methods": ["get_db", "create_access_token", "verify_password", "get_password_hash"], "published": ["router"], "classes": [{"name": "User", "description": "Database model representing a user."}, {"name": "Role", "description": "Database model representing a user role."}, {"name": "UserCreate", "description": "Schema for user registration data."}, {"name": "UserLogin", "description": "Schema for user login data."}, {"name": "Token", "description": "Schema for JWT token response."}, {"name": "UserRead", "description": "Schema for returning user data."}], "methods": [{"name": "login(payload: UserLogin, db: Session = Depends(get_db))", "description": "Authenticates user credentials and returns a JWT token.", "scope": "", "scopeKind": ""}, {"name": "register(payload: UserCreate, db: Session = Depends(get_db))", "description": "Registers a new user with default 'user' role.", "scope": "", "scopeKind": ""}], "calls": ["db.query", "verify_password", "create_access_token", "get_password_hash", "db.add", "db.commit", "db.refresh"], "search-terms": ["FastAPI login", "JWT token authentication", "user registration endpoint", "Role assignment", "Auth router"], "state": 2, "file_id": 9, "knowledge_revision": 105, "git_revision": "9b863804a128c3935e8babe79d0fee05f5a1e68a", "revision_history": [{"37": "c104eb7110ab4172547901562876f5735f48c908"}, {"93": "c104eb7110ab4172547901562876f5735f48c908"}, {"105": "9b863804a128c3935e8babe79d0fee05f5a1e68a"}], "ctags": [{"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/auth/router.py", "pattern": "/^def login(payload: UserLogin, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: UserLogin, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/auth/router.py", "pattern": "/^def register(payload: UserCreate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: UserCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/auth/router.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}], "hash": "9563336d16b0533e83e205819c2bacd9", "format-version": 4, "code-base-name": "fitness_nutrition_backend", "filename": "fitness_nutrition_backend/src/auth/router.py", "fields": [{"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}]}