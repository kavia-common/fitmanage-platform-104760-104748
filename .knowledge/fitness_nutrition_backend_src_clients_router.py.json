{"is_source_file": true, "format": "Python", "description": "This file defines REST API endpoints for managing 'Client' entities in a FastAPI application, including listing, creating, retrieving, updating, and deleting clients with appropriate ownership and role checks.", "external_files": ["src/api/utils", "src/core/database", "src/core/security", "src/models", "src/schemas/client", "src/services/subscriptions"], "external_methods": ["pagination_params", "paginate", "assert_client_ownership_or_admin", "get_db", "get_current_user", "ensure_within_limits_clients"], "published": ["router"], "classes": [{"name": "APIRouter", "description": "FastAPI's router object used to define API endpoints."}, {"name": "Client", "description": "ORM model representing a client entity in the database."}, {"name": "User", "description": "ORM model representing a user entity, includes roles for authorization."}, {"name": "ClientCreate", "description": "Pydantic schema for creating or updating a client."}, {"name": "ClientRead", "description": "Pydantic schema for reading client data in responses."}], "methods": [{"name": "list_clients( db: Session = Depends(get_db), current: User = Depends(get_current_user), offset_limit: tuple[int, int] = Depends(pagination_params), )", "description": "Handles GET requests to list clients with pagination and role-based access control.", "scope": "", "scopeKind": ""}, {"name": "create_client( payload: ClientCreate, db: Session = Depends(get_db), current: User = Depends(get_current_user), )", "description": "Handles POST requests to create a new client, enforcing limits for regular users.", "scope": "", "scopeKind": ""}, {"name": "get_client( client_id: int, db: Session = Depends(get_db), current: User = Depends(get_current_user), )", "description": "Handles GET requests to retrieve a specific client by ID with ownership check.", "scope": "", "scopeKind": ""}, {"name": "update_client( client_id: int, payload: ClientCreate, db: Session = Depends(get_db), current: User = Depends(get_current_user), )", "description": "Handles PUT requests to update client data with ownership checks.", "scope": "", "scopeKind": ""}, {"name": "delete_client( client_id: int, db: Session = Depends(get_db), current: User = Depends(get_current_user), )", "description": "Handles DELETE requests to remove a client with ownership checks.", "scope": "", "scopeKind": ""}], "calls": ["get_db", "get_current_user", "pagination_params", "paginate", "assert_client_ownership_or_admin", "ensure_within_limits_clients"], "search-terms": ["FastAPI client endpoints", "Client management API", "CRUD clients API", "ownership checks", "role-based access control", "pagination in FastAPI"], "state": 2, "file_id": 13, "knowledge_revision": 135, "git_revision": "ef99c1baf7b51f61076574998e7a17dca8300a43", "revision_history": [{"41": "c104eb7110ab4172547901562876f5735f48c908"}, {"97": "c104eb7110ab4172547901562876f5735f48c908"}, {"111": "9b863804a128c3935e8babe79d0fee05f5a1e68a"}, {"124": "ef99c1baf7b51f61076574998e7a17dca8300a43"}, {"135": "ef99c1baf7b51f61076574998e7a17dca8300a43"}], "ctags": [{"_type": "tag", "name": "create_client", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/clients/router.py", "pattern": "/^def create_client($/", "language": "Python", "kind": "function", "signature": "( payload: ClientCreate, db: Session = Depends(get_db), current: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "delete_client", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/clients/router.py", "pattern": "/^def delete_client($/", "language": "Python", "kind": "function", "signature": "( client_id: int, db: Session = Depends(get_db), current: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "get_client", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/clients/router.py", "pattern": "/^def get_client($/", "language": "Python", "kind": "function", "signature": "( client_id: int, db: Session = Depends(get_db), current: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "list_clients", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/clients/router.py", "pattern": "/^def list_clients($/", "language": "Python", "kind": "function", "signature": "( db: Session = Depends(get_db), current: User = Depends(get_current_user), offset_limit: tuple[int, int] = Depends(pagination_params), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/clients/router.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_client", "path": "/home/kavia/workspace/code-generation/fitmanage-platform-104760-104748/fitness_nutrition_backend/src/clients/router.py", "pattern": "/^def update_client($/", "language": "Python", "kind": "function", "signature": "( client_id: int, payload: ClientCreate, db: Session = Depends(get_db), current: User = Depends(get_current_user), )"}], "hash": "ef30df418cbfefbb8edddf6feeada46c", "format-version": 4, "code-base-name": "fitness_nutrition_backend", "filename": "fitness_nutrition_backend/src/clients/router.py", "fields": [{"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}]}